---
- hosts: all
  pre_tasks:
    - apt: name={{item}} state=latest
      become: yes
      with_items:
        - libfreetype6-dev
        - libxft-dev
        - libxinerama-dev
      when: ansible_os_family == "Debian"
    - dnf: name={{item}} state=latest
      become: yes
      with_items:
        - freetype-devel
        - libXft-devel
        - libXinerama-devel
      when: ansible_distribution == "Fedora"
  tasks:
    - git: repo=git://git.suckless.org/dmenu dest=~/z/gl/dmenu accept_hostkey=yes
    - script: install-dmenu.sh
